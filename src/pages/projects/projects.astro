---
import Layout from '@layouts/Layout.astro';
import { getCollection } from 'astro:content';
import Card from '@components/ui/Card.astro';
import train from '@assets/images/train_gui.png';
import SAE from '@assets/images/SAE3A.png';
import imageNDI from '@assets/images/NDI.png';
import imageStage from '@assets/images/stage.png';
import imageAlternance from '@assets/images/project.png';
import Contact from '@components/Contact.astro';
import BackToTop from '@components/ui/BackToTop.astro';

const projects = await getCollection('projects');
const projectImages = [train, SAE, imageNDI, imageStage, imageAlternance];
---

<Layout>
	<main class="min-h-screen border-2 border-gray-600 rounded-2xl">
		<section id="projects" class="py-16 px-4">
			<div class="container mx-auto px-4 max-w-6xl">
				<div class="text-center mb-12">
					<span class="inline-block bg-orange-500 dark:bg-orange-600 text-white px-4 py-2 rounded-full text-sm font-medium mb-4">
						Portfolio
					</span>
					<h2 class="font-monospace text-3xl lg:text-5xl text-gray-900 dark:text-gray-100 mb-4">Mes projets</h2>
					<div class="w-20 h-1 bg-gradient-to-r from-orange-500 to-blue-600 mx-auto rounded-full"></div>
				</div>

				<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
					{projects.map((project, index) => (
						<Card
							title={project.data.title}
							description={project.data.description}
							tags={project.data.tags}
							url={project.data.url}
							imageUrl={projectImages[index]}
						/>
					))}
				</div>
			</div>
		</section>

		<Contact />
		<BackToTop />
	</main>
</Layout>
