---
import { Icon } from 'astro-icon/components';

export interface Competence {
	id: string;
	title: string;
	description: string;
	icon: string; // Nom de l'icône heroicons
}

export interface Props {
	badge?: string;
	badgeColor?: 'orange' | 'green' | 'blue' | 'purple' | 'red' | 'indigo';
	title: string;
	subtitle?: string;
	competences: Competence[];
	accentColor?: string;
}

const {
	badge = 'Compétences acquises',
	badgeColor = 'indigo',
	title,
	subtitle,
	competences,
	accentColor = 'orange-500'
} = Astro.props;

// Map des couleurs pour les badges
const badgeColors = {
	orange: 'bg-orange-500 dark:bg-orange-600',
	green: 'bg-green-600 dark:bg-green-700',
	blue: 'bg-blue-600 dark:bg-blue-700',
	purple: 'bg-purple-600 dark:bg-purple-700',
	red: 'bg-red-500 dark:bg-red-600',
	indigo: 'bg-indigo-600 dark:bg-indigo-700',
};
---

<section class="py-16 px-4">
	<div class="max-w-6xl mx-auto">
		<div class="text-center mb-16">
			<span class={`inline-block ${badgeColors[badgeColor]} text-white px-4 py-2 rounded-full text-sm font-medium mb-4`}>
				{badge}
			</span>
			<h2 class="font-monospace text-3xl lg:text-5xl text-gray-900 dark:text-gray-100 mb-4">
				{title}
			</h2>
			<div class="w-20 h-1 bg-gradient-to-r from-green-500 to-purple-600 mx-auto rounded-full"></div>
			{subtitle && (
				<p class="text-xl text-gray-700 dark:text-gray-300 mt-6 max-w-3xl mx-auto">
					{subtitle}
				</p>
			)}
		</div>

		<div class="grid md:grid-cols-3 gap-8">
			{competences.map((competence, index) => (
				<div class="group bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
					<div class="flex justify-center mb-4">
						<div class="w-16 h-16 flex items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg group-hover:scale-110 transition-transform duration-300">
							<Icon name={`heroicons:${competence.icon}`} class="w-10 h-10 text-white" />
						</div>
					</div>
					<h3 class="text-lg font-bold text-gray-900 dark:text-gray-100 mb-4 text-center">
						AC {index + 1}
					</h3>
					<h4 class={`text-sm font-semibold text-${accentColor} mb-3 leading-tight`}>
						{competence.title.includes(' : ') ? competence.title.split(' : ')[1] : competence.title}
					</h4>
					<p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">
						{competence.description}
					</p>
				</div>
			))}
		</div>
	</div>
</section>
